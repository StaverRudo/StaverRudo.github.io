<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Two Lens Simulator</title>
<script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-3326007-19"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-3326007-19');
</script>
<script data-ad-client="ca-pub-0121577198857509" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>    <link rel="stylesheet"  type="text/css" href="_ejs_library/css/ejss.css" />
    <script src="_ejs_library/scripts/common_script.js"></script>
    <script src="_ejs_library/scripts/textresizedetector.js"></script>
    <script src="_ejs_library/ejsS.v1.max.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--
/* _inputParameters: an object with different values for the model parameters */
function twolens2(_topFrame,_libraryPath,_codebasePath, _inputParameters) {
  var _model = EJSS_CORE.createAnimationLMS();
  var _view;
  var _isPlaying = false;
  var _isPaused = true;
  var _isMobile = (navigator===undefined) ? false : navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|Opera Mini|IEMobile/i);

var _stringProperties = {};
  var _tools = {
    showInputDialog : EJSS_INTERFACE.BoxPanel.showInputDialog,
    showOkDialog : EJSS_INTERFACE.BoxPanel.showOkDialog,
    showOkCancelDialog : EJSS_INTERFACE.BoxPanel.showOkCancelDialog,
    downloadText: EJSS_TOOLS.File.downloadText,
    uploadText: function(action) { EJSS_TOOLS.File.uploadText(_model,action); } 
  };

  function _play()  { _isPaused = false; _isPlaying = true;  _model.play();  }
  function _pause() { _isPaused = true;  _isPlaying = false; _model.pause(); }
  function _step()  { _pause();  _model.step(); }
  function _reset() { _model.reset();  _isPaused = _model.isPaused(); _isPlaying = _model.isPlaying(); }
  _model._play  = _play;
  _model._pause = _pause;
  _model._step  = _step;
  _model._reset = _reset;
  function _update() { _model.update(); }
  function _initialize() { _model.initialize(); }
  function _setFPS(_fps) { _model.setFPS(_fps); }
  function _setDelay(_delay) { _model.setDelay(_delay); }
  function _setStepsPerDisplay(_spd) { _model.setStepsPerDisplay(_spd); }
  function _setUpdateView(_updateView) { _model.setUpdateView(_updateView); }
  function _setAutoplay(_auto) { _model.setAutoplay(_auto); }
  function _println(_message) { console.log(_message); }

  function _breakAfterThisPage() { _model.setShouldBreak(true); }

  function _resetSolvers() { if (_model.resetSolvers) _model.resetSolvers(); }

  function _saveText(name,type,content) { if (_model.saveText) _model.saveText(name,type,content); }

  function _saveState(name) { if (_model.saveState) _model.saveState(name); }

  function _saveImage(name,panelname) { if (_model.saveImage) _model.saveImage(name,panelname); }

  function _readState(url,type) { if (_model.readState) _model.readState(url,type); }

  function _readText(url,type,varname) { if (_model.readText) _model.readText(url,type,varname); }

  function _getStringProperty(propertyName) {
    var _value = _stringProperties[propertyName];
    if (_value===undefined) return propertyName;
    else return _value;
  }
  var __pagesEnabled = [];
  function _setPageEnabled(pageName,enabled) { __pagesEnabled[pageName] = enabled; }

  var range; // EjsS Model.Variables.spacetime.range
  var xmin; // EjsS Model.Variables.spacetime.xmin
  var xmax; // EjsS Model.Variables.spacetime.xmax
  var ymin; // EjsS Model.Variables.spacetime.ymin
  var ymax; // EjsS Model.Variables.spacetime.ymax
  var t; // EjsS Model.Variables.spacetime.t
  var dt; // EjsS Model.Variables.spacetime.dt
  var size; // EjsS Model.Variables.spacetime.size
  var stroke; // EjsS Model.Variables.spacetime.stroke
  var pi; // EjsS Model.Variables.spacetime.pi
  var npt; // EjsS Model.Variables.spacetime.npt
  var psize; // EjsS Model.Variables.spacetime.psize
  var scale; // EjsS Model.Variables.spacetime.scale

  var f; // EjsS Model.Variables.lens.f
  var p; // EjsS Model.Variables.lens.p
  var x1; // EjsS Model.Variables.lens.x1
  var ox; // EjsS Model.Variables.lens.ox
  var oh; // EjsS Model.Variables.lens.oh
  var oh2; // EjsS Model.Variables.lens.oh2
  var q1; // EjsS Model.Variables.lens.q1
  var ix; // EjsS Model.Variables.lens.ix
  var M; // EjsS Model.Variables.lens.M
  var x2; // EjsS Model.Variables.lens.x2
  var p2; // EjsS Model.Variables.lens.p2
  var f2; // EjsS Model.Variables.lens.f2
  var q2; // EjsS Model.Variables.lens.q2
  var M2; // EjsS Model.Variables.lens.M2
  var ix2; // EjsS Model.Variables.lens.ix2

  var w; // EjsS Model.Variables.view.w
  var h; // EjsS Model.Variables.view.h
  var h2; // EjsS Model.Variables.view.h2
  var yc; // EjsS Model.Variables.view.yc
  var n; // EjsS Model.Variables.view.n
  var rdy1; // EjsS Model.Variables.view.rdy1
  var y1; // EjsS Model.Variables.view.y1
  var rdy12; // EjsS Model.Variables.view.rdy12
  var ry2; // EjsS Model.Variables.view.ry2
  var rdy2; // EjsS Model.Variables.view.rdy2
  var rdy3; // EjsS Model.Variables.view.rdy3
  var y3; // EjsS Model.Variables.view.y3
  var rdy4; // EjsS Model.Variables.view.rdy4
  var rdy5; // EjsS Model.Variables.view.rdy5
  var lens2on; // EjsS Model.Variables.view.lens2on
  var dy1; // EjsS Model.Variables.view.dy1
  var dy3; // EjsS Model.Variables.view.dy3
  var green; // EjsS Model.Variables.view.green
  var green2; // EjsS Model.Variables.view.green2
  var clr; // EjsS Model.Variables.view.clr
  var farnclr; // EjsS Model.Variables.view.farnclr
  var farnclr2; // EjsS Model.Variables.view.farnclr2
  var rayclr; // EjsS Model.Variables.view.rayclr
  var img2clr; // EjsS Model.Variables.view.img2clr
  var ic; // EjsS Model.Variables.view.ic
  var msgx; // EjsS Model.Variables.view.msgx
  var msgy; // EjsS Model.Variables.view.msgy
  var msg; // EjsS Model.Variables.view.msg
  var showreal; // EjsS Model.Variables.view.showreal

  var xfL1; // EjsS Model.Variables.drag.xfL1
  var xfR1; // EjsS Model.Variables.drag.xfR1
  var fmin; // EjsS Model.Variables.drag.fmin
  var xfL2; // EjsS Model.Variables.drag.xfL2
  var xfR2; // EjsS Model.Variables.drag.xfR2
  var nl; // EjsS Model.Variables.drag.nl
  var nr; // EjsS Model.Variables.drag.nr
  var sl; // EjsS Model.Variables.drag.sl
  var sr; // EjsS Model.Variables.drag.sr
  var shapeL; // EjsS Model.Variables.drag.shapeL
  var shapeR; // EjsS Model.Variables.drag.shapeR
  var sL; // EjsS Model.Variables.drag.sL
  var sR; // EjsS Model.Variables.drag.sR

  var font; // EjsS Model.Variables.varfrem.font
  var fontb; // EjsS Model.Variables.varfrem.fontb
  var combo; // EjsS Model.Variables.varfrem.combo

  _model.getOdes = function() { return []; };

  _model.removeEvents = function(){
  };

  function _serialize() { return _model.serialize(); }

  _model._userSerialize = function() {
    return {
      range : range,
      xmin : xmin,
      xmax : xmax,
      ymin : ymin,
      ymax : ymax,
      t : t,
      dt : dt,
      size : size,
      stroke : stroke,
      pi : pi,
      npt : npt,
      psize : psize,
      scale : scale,
      f : f,
      p : p,
      x1 : x1,
      ox : ox,
      oh : oh,
      oh2 : oh2,
      q1 : q1,
      ix : ix,
      M : M,
      x2 : x2,
      p2 : p2,
      f2 : f2,
      q2 : q2,
      M2 : M2,
      ix2 : ix2,
      w : w,
      h : h,
      h2 : h2,
      yc : yc,
      n : n,
      rdy1 : rdy1,
      y1 : y1,
      rdy12 : rdy12,
      ry2 : ry2,
      rdy2 : rdy2,
      rdy3 : rdy3,
      y3 : y3,
      rdy4 : rdy4,
      rdy5 : rdy5,
      lens2on : lens2on,
      dy1 : dy1,
      dy3 : dy3,
      green : green,
      green2 : green2,
      clr : clr,
      farnclr : farnclr,
      farnclr2 : farnclr2,
      rayclr : rayclr,
      img2clr : img2clr,
      ic : ic,
      msgx : msgx,
      msgy : msgy,
      msg : msg,
      showreal : showreal,
      xfL1 : xfL1,
      xfR1 : xfR1,
      fmin : fmin,
      xfL2 : xfL2,
      xfR2 : xfR2,
      nl : nl,
      nr : nr,
      sl : sl,
      sr : sr,
      shapeL : shapeL,
      shapeR : shapeR,
      sL : sL,
      sR : sR,
      font : font,
      fontb : fontb,
      combo : combo
    };
  };

  function _serializePublic() { return _model.serializePublic(); }

  _model._userSerializePublic = function() {
    return {
      range : range,
      xmin : xmin,
      xmax : xmax,
      ymin : ymin,
      ymax : ymax,
      t : t,
      dt : dt,
      size : size,
      stroke : stroke,
      pi : pi,
      npt : npt,
      psize : psize,
      scale : scale,
      f : f,
      p : p,
      x1 : x1,
      ox : ox,
      oh : oh,
      oh2 : oh2,
      q1 : q1,
      ix : ix,
      M : M,
      x2 : x2,
      p2 : p2,
      f2 : f2,
      q2 : q2,
      M2 : M2,
      ix2 : ix2,
      w : w,
      h : h,
      h2 : h2,
      yc : yc,
      n : n,
      rdy1 : rdy1,
      y1 : y1,
      rdy12 : rdy12,
      ry2 : ry2,
      rdy2 : rdy2,
      rdy3 : rdy3,
      y3 : y3,
      rdy4 : rdy4,
      rdy5 : rdy5,
      lens2on : lens2on,
      dy1 : dy1,
      dy3 : dy3,
      green : green,
      green2 : green2,
      clr : clr,
      farnclr : farnclr,
      farnclr2 : farnclr2,
      rayclr : rayclr,
      img2clr : img2clr,
      ic : ic,
      msgx : msgx,
      msgy : msgy,
      msg : msg,
      showreal : showreal,
      xfL1 : xfL1,
      xfR1 : xfR1,
      fmin : fmin,
      xfL2 : xfL2,
      xfR2 : xfR2,
      nl : nl,
      nr : nr,
      sl : sl,
      sr : sr,
      shapeL : shapeL,
      shapeR : shapeR,
      sL : sL,
      sR : sR,
      font : font,
      fontb : fontb,
      combo : combo
    };
  };

  _model._readParameters = function(json) {
    if(typeof json.range != "undefined") range = json.range;
    if(typeof json.xmin != "undefined") xmin = json.xmin;
    if(typeof json.xmax != "undefined") xmax = json.xmax;
    if(typeof json.ymin != "undefined") ymin = json.ymin;
    if(typeof json.ymax != "undefined") ymax = json.ymax;
    if(typeof json.t != "undefined") t = json.t;
    if(typeof json.dt != "undefined") dt = json.dt;
    if(typeof json.size != "undefined") size = json.size;
    if(typeof json.stroke != "undefined") stroke = json.stroke;
    if(typeof json.pi != "undefined") pi = json.pi;
    if(typeof json.npt != "undefined") npt = json.npt;
    if(typeof json.psize != "undefined") psize = json.psize;
    if(typeof json.scale != "undefined") scale = json.scale;
    if(typeof json.f != "undefined") f = json.f;
    if(typeof json.p != "undefined") p = json.p;
    if(typeof json.x1 != "undefined") x1 = json.x1;
    if(typeof json.ox != "undefined") ox = json.ox;
    if(typeof json.oh != "undefined") oh = json.oh;
    if(typeof json.oh2 != "undefined") oh2 = json.oh2;
    if(typeof json.q1 != "undefined") q1 = json.q1;
    if(typeof json.ix != "undefined") ix = json.ix;
    if(typeof json.M != "undefined") M = json.M;
    if(typeof json.x2 != "undefined") x2 = json.x2;
    if(typeof json.p2 != "undefined") p2 = json.p2;
    if(typeof json.f2 != "undefined") f2 = json.f2;
    if(typeof json.q2 != "undefined") q2 = json.q2;
    if(typeof json.M2 != "undefined") M2 = json.M2;
    if(typeof json.ix2 != "undefined") ix2 = json.ix2;
    if(typeof json.w != "undefined") w = json.w;
    if(typeof json.h != "undefined") h = json.h;
    if(typeof json.h2 != "undefined") h2 = json.h2;
    if(typeof json.yc != "undefined") yc = json.yc;
    if(typeof json.n != "undefined") n = json.n;
    if(typeof json.rdy1 != "undefined") rdy1 = json.rdy1;
    if(typeof json.y1 != "undefined") y1 = json.y1;
    if(typeof json.rdy12 != "undefined") rdy12 = json.rdy12;
    if(typeof json.ry2 != "undefined") ry2 = json.ry2;
    if(typeof json.rdy2 != "undefined") rdy2 = json.rdy2;
    if(typeof json.rdy3 != "undefined") rdy3 = json.rdy3;
    if(typeof json.y3 != "undefined") y3 = json.y3;
    if(typeof json.rdy4 != "undefined") rdy4 = json.rdy4;
    if(typeof json.rdy5 != "undefined") rdy5 = json.rdy5;
    if(typeof json.lens2on != "undefined") lens2on = json.lens2on;
    if(typeof json.dy1 != "undefined") dy1 = json.dy1;
    if(typeof json.dy3 != "undefined") dy3 = json.dy3;
    if(typeof json.green != "undefined") green = json.green;
    if(typeof json.green2 != "undefined") green2 = json.green2;
    if(typeof json.clr != "undefined") clr = json.clr;
    if(typeof json.farnclr != "undefined") farnclr = json.farnclr;
    if(typeof json.farnclr2 != "undefined") farnclr2 = json.farnclr2;
    if(typeof json.rayclr != "undefined") rayclr = json.rayclr;
    if(typeof json.img2clr != "undefined") img2clr = json.img2clr;
    if(typeof json.ic != "undefined") ic = json.ic;
    if(typeof json.msgx != "undefined") msgx = json.msgx;
    if(typeof json.msgy != "undefined") msgy = json.msgy;
    if(typeof json.msg != "undefined") msg = json.msg;
    if(typeof json.showreal != "undefined") showreal = json.showreal;
    if(typeof json.xfL1 != "undefined") xfL1 = json.xfL1;
    if(typeof json.xfR1 != "undefined") xfR1 = json.xfR1;
    if(typeof json.fmin != "undefined") fmin = json.fmin;
    if(typeof json.xfL2 != "undefined") xfL2 = json.xfL2;
    if(typeof json.xfR2 != "undefined") xfR2 = json.xfR2;
    if(typeof json.nl != "undefined") nl = json.nl;
    if(typeof json.nr != "undefined") nr = json.nr;
    if(typeof json.sl != "undefined") sl = json.sl;
    if(typeof json.sr != "undefined") sr = json.sr;
    if(typeof json.shapeL != "undefined") shapeL = json.shapeL;
    if(typeof json.shapeR != "undefined") shapeR = json.shapeR;
    if(typeof json.sL != "undefined") sL = json.sL;
    if(typeof json.sR != "undefined") sR = json.sR;
    if(typeof json.font != "undefined") font = json.font;
    if(typeof json.fontb != "undefined") fontb = json.fontb;
    if(typeof json.combo != "undefined") combo = json.combo;
  };

  _model._readParametersPublic = function(json) {
    if(typeof json.range != "undefined") range = json.range;
    if(typeof json.xmin != "undefined") xmin = json.xmin;
    if(typeof json.xmax != "undefined") xmax = json.xmax;
    if(typeof json.ymin != "undefined") ymin = json.ymin;
    if(typeof json.ymax != "undefined") ymax = json.ymax;
    if(typeof json.t != "undefined") t = json.t;
    if(typeof json.dt != "undefined") dt = json.dt;
    if(typeof json.size != "undefined") size = json.size;
    if(typeof json.stroke != "undefined") stroke = json.stroke;
    if(typeof json.pi != "undefined") pi = json.pi;
    if(typeof json.npt != "undefined") npt = json.npt;
    if(typeof json.psize != "undefined") psize = json.psize;
    if(typeof json.scale != "undefined") scale = json.scale;
    if(typeof json.f != "undefined") f = json.f;
    if(typeof json.p != "undefined") p = json.p;
    if(typeof json.x1 != "undefined") x1 = json.x1;
    if(typeof json.ox != "undefined") ox = json.ox;
    if(typeof json.oh != "undefined") oh = json.oh;
    if(typeof json.oh2 != "undefined") oh2 = json.oh2;
    if(typeof json.q1 != "undefined") q1 = json.q1;
    if(typeof json.ix != "undefined") ix = json.ix;
    if(typeof json.M != "undefined") M = json.M;
    if(typeof json.x2 != "undefined") x2 = json.x2;
    if(typeof json.p2 != "undefined") p2 = json.p2;
    if(typeof json.f2 != "undefined") f2 = json.f2;
    if(typeof json.q2 != "undefined") q2 = json.q2;
    if(typeof json.M2 != "undefined") M2 = json.M2;
    if(typeof json.ix2 != "undefined") ix2 = json.ix2;
    if(typeof json.w != "undefined") w = json.w;
    if(typeof json.h != "undefined") h = json.h;
    if(typeof json.h2 != "undefined") h2 = json.h2;
    if(typeof json.yc != "undefined") yc = json.yc;
    if(typeof json.n != "undefined") n = json.n;
    if(typeof json.rdy1 != "undefined") rdy1 = json.rdy1;
    if(typeof json.y1 != "undefined") y1 = json.y1;
    if(typeof json.rdy12 != "undefined") rdy12 = json.rdy12;
    if(typeof json.ry2 != "undefined") ry2 = json.ry2;
    if(typeof json.rdy2 != "undefined") rdy2 = json.rdy2;
    if(typeof json.rdy3 != "undefined") rdy3 = json.rdy3;
    if(typeof json.y3 != "undefined") y3 = json.y3;
    if(typeof json.rdy4 != "undefined") rdy4 = json.rdy4;
    if(typeof json.rdy5 != "undefined") rdy5 = json.rdy5;
    if(typeof json.lens2on != "undefined") lens2on = json.lens2on;
    if(typeof json.dy1 != "undefined") dy1 = json.dy1;
    if(typeof json.dy3 != "undefined") dy3 = json.dy3;
    if(typeof json.green != "undefined") green = json.green;
    if(typeof json.green2 != "undefined") green2 = json.green2;
    if(typeof json.clr != "undefined") clr = json.clr;
    if(typeof json.farnclr != "undefined") farnclr = json.farnclr;
    if(typeof json.farnclr2 != "undefined") farnclr2 = json.farnclr2;
    if(typeof json.rayclr != "undefined") rayclr = json.rayclr;
    if(typeof json.img2clr != "undefined") img2clr = json.img2clr;
    if(typeof json.ic != "undefined") ic = json.ic;
    if(typeof json.msgx != "undefined") msgx = json.msgx;
    if(typeof json.msgy != "undefined") msgy = json.msgy;
    if(typeof json.msg != "undefined") msg = json.msg;
    if(typeof json.showreal != "undefined") showreal = json.showreal;
    if(typeof json.xfL1 != "undefined") xfL1 = json.xfL1;
    if(typeof json.xfR1 != "undefined") xfR1 = json.xfR1;
    if(typeof json.fmin != "undefined") fmin = json.fmin;
    if(typeof json.xfL2 != "undefined") xfL2 = json.xfL2;
    if(typeof json.xfR2 != "undefined") xfR2 = json.xfR2;
    if(typeof json.nl != "undefined") nl = json.nl;
    if(typeof json.nr != "undefined") nr = json.nr;
    if(typeof json.sl != "undefined") sl = json.sl;
    if(typeof json.sr != "undefined") sr = json.sr;
    if(typeof json.shapeL != "undefined") shapeL = json.shapeL;
    if(typeof json.shapeR != "undefined") shapeR = json.shapeR;
    if(typeof json.sL != "undefined") sL = json.sL;
    if(typeof json.sR != "undefined") sR = json.sR;
    if(typeof json.font != "undefined") font = json.font;
    if(typeof json.fontb != "undefined") fontb = json.fontb;
    if(typeof json.combo != "undefined") combo = json.combo;
  };

  function _unserializePublic(json) { return _model.unserializePublic(json); }

  _model._userUnserializePublic = function(json) {
    _model._readParametersPublic(json);
   _resetSolvers();
   _model.update();
  };

  function _unserialize(json) { return _model.unserialize(json); }

  _model._userUnserialize = function(json) {
    _model._readParameters(json);
   _resetSolvers();
   _model.update();
  };

  _model.addToReset(function() {
    __pagesEnabled["svg"] = true;
    __pagesEnabled["FixRel Page"] = true;
  });

  _model.addToReset(function() {
    range = 50; // EjsS Model.Variables.spacetime.range
    xmin = -range; // EjsS Model.Variables.spacetime.xmin
    xmax = range; // EjsS Model.Variables.spacetime.xmax
    ymin = -range/2; // EjsS Model.Variables.spacetime.ymin
    ymax = range/2; // EjsS Model.Variables.spacetime.ymax
    t = 0; // EjsS Model.Variables.spacetime.t
    dt = 0.05; // EjsS Model.Variables.spacetime.dt
    size = range/50; // EjsS Model.Variables.spacetime.size
    stroke = 2; // EjsS Model.Variables.spacetime.stroke
    pi = Math.PI; // EjsS Model.Variables.spacetime.pi
    npt = 600; // EjsS Model.Variables.spacetime.npt
    psize = 2; // EjsS Model.Variables.spacetime.psize
    scale = 1; // EjsS Model.Variables.spacetime.scale
  });

  _model.addToReset(function() {
    f = 10*size; // EjsS Model.Variables.lens.f
    p = 2*f; // EjsS Model.Variables.lens.p
    x1 = xmin/2; // EjsS Model.Variables.lens.x1
    ox = x1-p; // EjsS Model.Variables.lens.ox
    oh = f/2; // EjsS Model.Variables.lens.oh
    oh2 = oh/2; // EjsS Model.Variables.lens.oh2
    q1 = f*p/(p-f); // EjsS Model.Variables.lens.q1
    ix = x1+q1; // EjsS Model.Variables.lens.ix
    M = -q1/p; // EjsS Model.Variables.lens.M
    x2 = xmax/4; // EjsS Model.Variables.lens.x2
    p2 = x2-ix; // EjsS Model.Variables.lens.p2
    f2 = f; // EjsS Model.Variables.lens.f2
    q2 = f2*p2/(p2-f2); // EjsS Model.Variables.lens.q2
    M2 = -q2/p2; // EjsS Model.Variables.lens.M2
    ix2 = x2+q2; // EjsS Model.Variables.lens.ix2
  });

  _model.addToReset(function() {
    w = size; // EjsS Model.Variables.view.w
    h = 30*size; // EjsS Model.Variables.view.h
    h2 = h/2; // EjsS Model.Variables.view.h2
    yc = 0; // EjsS Model.Variables.view.yc
    n = 20; // EjsS Model.Variables.view.n
    rdy1 = new Array(n); // EjsS Model.Variables.view.rdy1
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.rdy1
        rdy1[_i0] = 0;  // EjsS Model.Variables.view.rdy1
      }
    }());
    y1 = new Array(n); // EjsS Model.Variables.view.y1
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.y1
        y1[_i0] = 0;  // EjsS Model.Variables.view.y1
      }
    }());
    rdy12 = new Array(n); // EjsS Model.Variables.view.rdy12
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.rdy12
        rdy12[_i0] = 0;  // EjsS Model.Variables.view.rdy12
      }
    }());
    ry2 = new Array(n); // EjsS Model.Variables.view.ry2
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.ry2
        ry2[_i0] = 0;  // EjsS Model.Variables.view.ry2
      }
    }());
    rdy2 = new Array(n); // EjsS Model.Variables.view.rdy2
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.rdy2
        rdy2[_i0] = 0;  // EjsS Model.Variables.view.rdy2
      }
    }());
    rdy3 = new Array(n); // EjsS Model.Variables.view.rdy3
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.rdy3
        rdy3[_i0] = 0;  // EjsS Model.Variables.view.rdy3
      }
    }());
    y3 = new Array(n); // EjsS Model.Variables.view.y3
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.y3
        y3[_i0] = 0;  // EjsS Model.Variables.view.y3
      }
    }());
    rdy4 = new Array(n); // EjsS Model.Variables.view.rdy4
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.rdy4
        rdy4[_i0] = 0;  // EjsS Model.Variables.view.rdy4
      }
    }());
    rdy5 = new Array(n); // EjsS Model.Variables.view.rdy5
    (function () {
      var _i0;
      for (_i0=0; _i0<n; _i0+=1) {  // EjsS Model.Variables.view.rdy5
        rdy5[_i0] = 0;  // EjsS Model.Variables.view.rdy5
      }
    }());
    lens2on = true; // EjsS Model.Variables.view.lens2on
    dy1 = -oh/n; // EjsS Model.Variables.view.dy1
    dy3 = M*dy1; // EjsS Model.Variables.view.dy3
    green = "rgba(0,255,0,1)"; // EjsS Model.Variables.view.green
    green2 = "rgba(0,255,0,0.3)"; // EjsS Model.Variables.view.green2
    clr = green; // EjsS Model.Variables.view.clr
    farnclr = "rgba(200,220,208,0.5)"; // EjsS Model.Variables.view.farnclr
    farnclr2 = "rgba(96,96,96,0.5)"; // EjsS Model.Variables.view.farnclr2
    rayclr = farnclr; // EjsS Model.Variables.view.rayclr
    img2clr = green; // EjsS Model.Variables.view.img2clr
    ic = 0; // EjsS Model.Variables.view.ic
    msgx = 0; // EjsS Model.Variables.view.msgx
    msgy = 0.8*ymax; // EjsS Model.Variables.view.msgy
    msg = ""; // EjsS Model.Variables.view.msg
    showreal = true; // EjsS Model.Variables.view.showreal
  });

  _model.addToReset(function() {
    xfL1 = x1-f; // EjsS Model.Variables.drag.xfL1
    xfR1 = x1+f; // EjsS Model.Variables.drag.xfR1
    fmin = 3*size; // EjsS Model.Variables.drag.fmin
    xfL2 = x2-f2; // EjsS Model.Variables.drag.xfL2
    xfR2 = x2+f2; // EjsS Model.Variables.drag.xfR2
    nl = false; // EjsS Model.Variables.drag.nl
    nr = false; // EjsS Model.Variables.drag.nr
    sl = 1; // EjsS Model.Variables.drag.sl
    sr = 1; // EjsS Model.Variables.drag.sr
    shapeL = 0; // EjsS Model.Variables.drag.shapeL
    shapeR = 0; // EjsS Model.Variables.drag.shapeR
    sL = ""; // EjsS Model.Variables.drag.sL
    sR = ""; // EjsS Model.Variables.drag.sR
  });

  _model.addToReset(function() {
    font = "normal normal 2vw"; // EjsS Model.Variables.varfrem.font
    fontb = "normal bold 2vw"; // EjsS Model.Variables.varfrem.fontb
    combo = 1; // EjsS Model.Variables.varfrem.combo
  });

  if (_inputParameters) {
    _inputParameters = _model.parseInputParameters(_inputParameters);
    if (_inputParameters) _model.addToReset(function() { _model._readParameters(_inputParameters); });
  }

  _model.addToReset(function() {
    _model.setAutoplay(false);
    _model.setFPS(20);
    _model.setStepsPerDisplay(1);
  });

  var dv;  // > CustomCode.dvalue:1
  function dvalue (v) {  // > CustomCode.dvalue:2
    if(v>0)dv=0.5;  // > CustomCode.dvalue:3
    else if(v<0)dv=-0.5;  // > CustomCode.dvalue:4
    else dv=0;  // > CustomCode.dvalue:5
    return Math.round(v*100+dv)/100.;  // > CustomCode.dvalue:6
  }  // > CustomCode.dvalue:7

  //https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode  // > CustomCode.fullScreen:1
  // does not work for iOS   // > CustomCode.fullScreen:2
  /*jslint browser:true */  // > CustomCode.fullScreen:3
  function toggleFullScreen() {  // > CustomCode.fullScreen:4
    if (!document.fullscreenElement &&    // alternative standard method  // > CustomCode.fullScreen:5
        !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {  // current working methods  // > CustomCode.fullScreen:6
      if (document.documentElement.requestFullscreen) {  // > CustomCode.fullScreen:7
        document.documentElement.requestFullscreen();  // > CustomCode.fullScreen:8
      } else if (document.documentElement.msRequestFullscreen) {  // > CustomCode.fullScreen:9
        document.documentElement.msRequestFullscreen();  // > CustomCode.fullScreen:10
      } else if (document.documentElement.mozRequestFullScreen) {  // > CustomCode.fullScreen:11
        document.documentElement.mozRequestFullScreen();  // > CustomCode.fullScreen:12
      } else if (document.documentElement.webkitRequestFullscreen) {  // > CustomCode.fullScreen:13
        document.documentElement.webkitRequestFullscreen();  // > CustomCode.fullScreen:14
      }  // > CustomCode.fullScreen:15
    } else {  // > CustomCode.fullScreen:16
      if (document.exitFullscreen) {  // > CustomCode.fullScreen:17
        document.exitFullscreen();  // > CustomCode.fullScreen:18
      } else if (document.msExitFullscreen) {  // > CustomCode.fullScreen:19
        document.msExitFullscreen();  // > CustomCode.fullScreen:20
      } else if (document.mozCancelFullScreen) {  // > CustomCode.fullScreen:21
        document.mozCancelFullScreen();  // > CustomCode.fullScreen:22
      } else if (document.webkitExitFullscreen) {  // > CustomCode.fullScreen:23
        document.webkitExitFullscreen();  // > CustomCode.fullScreen:24
      }  // > CustomCode.fullScreen:25
    }  // > CustomCode.fullScreen:26
  }  // > CustomCode.fullScreen:27

  _model.addToInitialization(function() {
    if (!__pagesEnabled["svg"]) return;
    var container = document.createElement('div');  // > Initialization.svg:1
    var svggradient = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1"><defs>'+  // > Initialization.svg:2
      '  <radialGradient id="mygrandient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">'+  // > Initialization.svg:3
      '    <stop offset="0%" style="stop-color:rgb(200,220,208); stop-opacity:1" />'+  // > Initialization.svg:4
      '    <stop offset="100%" style="stop-color:rgb(100,200,208);stop-opacity:0.5" />'+  // > Initialization.svg:5
      '  </radialGradient>'+  // > Initialization.svg:6
      '</defs></svg>';  // > Initialization.svg:7
    container.innerHTML = svggradient;  // > Initialization.svg:8
    document.body.appendChild(container);  // > Initialization.svg:9
    //"url(#mygrandient)"  // > Initialization.svg:10
  });

  _model.addToFixedRelations(function() { _isPaused = _model.isPaused(); _isPlaying = _model.isPlaying(); });

  _model.addToFixedRelations(function() {
    if (!__pagesEnabled["FixRel Page"]) return;
    if(nl){  // > FixedRelations.FixRel Page:1
      sl=-1;  // > FixedRelations.FixRel Page:2
      sL="f1=-0.0";  // > FixedRelations.FixRel Page:3
      shapeL="RECTANGLE";  // > FixedRelations.FixRel Page:4
    }else{  // > FixedRelations.FixRel Page:5
      sl=1;  // > FixedRelations.FixRel Page:6
      sL="f1=0.0";  // > FixedRelations.FixRel Page:7
      shapeL="ELLIPSE";  // > FixedRelations.FixRel Page:8
    }  // > FixedRelations.FixRel Page:9
    if(nr){  // > FixedRelations.FixRel Page:10
      sr=-1;  // > FixedRelations.FixRel Page:11
      sR="f2=-0.0";  // > FixedRelations.FixRel Page:12
      shapeR="RECTANGLE";  // > FixedRelations.FixRel Page:13
    }else{  // > FixedRelations.FixRel Page:14
      sR="f2=0.0";  // > FixedRelations.FixRel Page:15
      sr=1;  // > FixedRelations.FixRel Page:16
      shapeR="ELLIPSE";  // > FixedRelations.FixRel Page:17
    }  // > FixedRelations.FixRel Page:18
    p=x1-ox;  // > FixedRelations.FixRel Page:19
    q1=sl*f*p/(p-sl*f);  // > FixedRelations.FixRel Page:20
    M=-q1/p;  // > FixedRelations.FixRel Page:21
    dy1=-h/(n-1);  // > FixedRelations.FixRel Page:22
    dy3=M*dy1;  // > FixedRelations.FixRel Page:23
    ix=x1+q1;  // > FixedRelations.FixRel Page:24
    for(var i=0;i<n;i++){  // > FixedRelations.FixRel Page:25
     rdy1[i]=i*dy1+h/2-oh2;  // > FixedRelations.FixRel Page:26
     rdy2[i]=-rdy1[i]-M*oh2-oh2;  // > FixedRelations.FixRel Page:27
     if(q1<0){  // > FixedRelations.FixRel Page:28
       y1[i]=-oh2-rdy1[i];  // > FixedRelations.FixRel Page:29
       rdy12[i]=-rdy2[i]/q1*(xmax*scale-x1);  // > FixedRelations.FixRel Page:30
     }  // > FixedRelations.FixRel Page:31
    }  // > FixedRelations.FixRel Page:32
    if(lens2on){  // > FixedRelations.FixRel Page:33
     p2=x2-ix;  // > FixedRelations.FixRel Page:34
     q2=sr*f2*p2/(p2-sr*f2);  // > FixedRelations.FixRel Page:35
     M2=-q2/p2;  // > FixedRelations.FixRel Page:36
     ix2=x2+q2;  // > FixedRelations.FixRel Page:37
     clr=green2;  // > FixedRelations.FixRel Page:38
     ic=0;  // > FixedRelations.FixRel Page:39
     for(var i=0;i<n;i++){  // > FixedRelations.FixRel Page:40
       rdy3[i]=-p2/q1*rdy2[i];  // > FixedRelations.FixRel Page:41
       y3[i]=M*oh2+rdy3[i];  // > FixedRelations.FixRel Page:42
    if(Math.abs(y3[i])<h2){  // > FixedRelations.FixRel Page:43
         rdy4[i]=M*M2*oh2-y3[i];  // > FixedRelations.FixRel Page:44
       }else{  // > FixedRelations.FixRel Page:45
         ic++;  // > FixedRelations.FixRel Page:46
         rdy4[i]=q2/p2*rdy3[i];  // > FixedRelations.FixRel Page:47
       }  // > FixedRelations.FixRel Page:48
       rdy5[i]=rdy4[i]/q2*(xmax*scale-x2);  // > FixedRelations.FixRel Page:49
       var tempimg = (255-Math.round(ic*200./n))/255;  // > FixedRelations.FixRel Page:50
       img2clr= "rgba(0,255,0,"+tempimg.toFixed(1)+")";  // > FixedRelations.FixRel Page:51
       if(x2>ix2)rayclr=farnclr2;  // > FixedRelations.FixRel Page:52
       else rayclr=farnclr;  // > FixedRelations.FixRel Page:53
     }  // > FixedRelations.FixRel Page:54
    }else{  // > FixedRelations.FixRel Page:55
     clr=green;   // > FixedRelations.FixRel Page:56
    }  // > FixedRelations.FixRel Page:57
    if(lens2on){  // > FixedRelations.FixRel Page:58
      msgx=ix2;  // > FixedRelations.FixRel Page:59
      showreal=q2>0;  // > FixedRelations.FixRel Page:60
    }else{  // > FixedRelations.FixRel Page:61
      msgx=ix;  // > FixedRelations.FixRel Page:62
      showreal=q1>0;  // > FixedRelations.FixRel Page:63
    }  // > FixedRelations.FixRel Page:64
  });

  _model.addToFixedRelations(function() { _isPaused = _model.isPaused(); _isPlaying = _model.isPlaying(); });

    _model._fontResized = function(iBase,iSize,iDelta) {
      _view._fontResized(iBase,iSize,iDelta);
  }; // end of _fontResized

  function _getViews() {
    var _viewsInfo = [];
    var _counter = 0;
    _viewsInfo[_counter++] = { name : "HtmlView Page", width : 800, height : 600 };
    return _viewsInfo;
  } // end of _getViews

  function _selectView(_viewNumber) {
    _view = null;
    _view = new twolens2_View(_topFrame,_viewNumber,_libraryPath,_codebasePath);
    var _view_super_reset = _view._reset;
    _view._reset = function() {
      _view_super_reset();
      switch(_viewNumber) {
        case -10 : break; // make Lint happy
        default :
        case 0:
          _view.controlPanel.linkProperty("Font",  function() { return font; }, function(_v) { font = _v; } ); // HtmlView Page linking property 'Font' for element 'controlPanel'
          _view.comboBox.linkProperty("Options",  function() { return ["Position","f1 and f2","Display"]; } ); // HtmlView Page linking property 'Options' for element 'comboBox'
          _view.comboBox.setAction("OnChange", function(_data,_info) {
  var opts = _view.comboBox.getProperty("SelectedOptions");  // array of options
      var option = (opts.length > 0)? opts[0]:""; // selected option 
  //["Position","f1 and f2","Display"]
  if (option == "Position"){combo = 1;}
  else if (option == "f1 and f2"){combo = 2;}
  else if (option == "Display"){combo = 3;}

}); // HtmlView Page setting action 'OnChange' for element 'comboBox'
          _view.comboBox.linkProperty("Font",  function() { return font; }, function(_v) { font = _v; } ); // HtmlView Page linking property 'Font' for element 'comboBox'
          _view.combo1.linkProperty("Display",  function() { return (combo==1)?"inline-flex":"none"; } ); // HtmlView Page linking property 'Display' for element 'combo1'
          _view.p1slider.linkProperty("Minimum",  function() { return size; }, function(_v) { size = _v; } ); // HtmlView Page linking property 'Minimum' for element 'p1slider'
          _view.p1slider.linkProperty("Maximum",  function() { return xmax; }, function(_v) { xmax = _v; } ); // HtmlView Page linking property 'Maximum' for element 'p1slider'
          _view.p1slider.linkProperty("Value",  function() { return p; }, function(_v) { p = _v; } ); // HtmlView Page linking property 'Value' for element 'p1slider'
          _view.p1slider.setAction("OnChange", function(_data,_info) {
  ox=x1-p;

}); // HtmlView Page setting action 'OnChange' for element 'p1slider'
          _view.combo2.linkProperty("Display",  function() { return (combo==2)?"inline-flex":"none"; } ); // HtmlView Page linking property 'Display' for element 'combo2'
          _view.f1slider.linkProperty("Minimum",  function() { return fmin; }, function(_v) { fmin = _v; } ); // HtmlView Page linking property 'Minimum' for element 'f1slider'
          _view.f1slider.linkProperty("Maximum",  function() { return xmax; }, function(_v) { xmax = _v; } ); // HtmlView Page linking property 'Maximum' for element 'f1slider'
          _view.f1slider.linkProperty("Value",  function() { return f; }, function(_v) { f = _v; } ); // HtmlView Page linking property 'Value' for element 'f1slider'
          _view.f1slider.setAction("OnChange", function(_data,_info) {
  xfL1=x1-f;
  xfR1=x1+f;

}); // HtmlView Page setting action 'OnChange' for element 'f1slider'
          _view.sliderf2.linkProperty("Minimum",  function() { return fmin; }, function(_v) { fmin = _v; } ); // HtmlView Page linking property 'Minimum' for element 'sliderf2'
          _view.sliderf2.linkProperty("Maximum",  function() { return xmax; }, function(_v) { xmax = _v; } ); // HtmlView Page linking property 'Maximum' for element 'sliderf2'
          _view.sliderf2.linkProperty("Value",  function() { return f2; }, function(_v) { f2 = _v; } ); // HtmlView Page linking property 'Value' for element 'sliderf2'
          _view.sliderf2.setAction("OnChange", function(_data,_info) {
  xfR2=x2+f2;
  xfL2=x2-f2;

}); // HtmlView Page setting action 'OnChange' for element 'sliderf2'
          _view.combo3.linkProperty("Display",  function() { return (combo==3)?"inline-flex":"none"; } ); // HtmlView Page linking property 'Display' for element 'combo3'
          _view.q1concave.linkProperty("Checked",  function() { return nl; }, function(_v) { nl = _v; } ); // HtmlView Page linking property 'Checked' for element 'q1concave'
          _view.concaveq2.linkProperty("Checked",  function() { return nr; }, function(_v) { nr = _v; } ); // HtmlView Page linking property 'Checked' for element 'concaveq2'
          _view.lenscheck.linkProperty("Checked",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Checked' for element 'lenscheck'
          _view.resetbutton.setAction("OnClick", function(_data,_info) {
  _reset();

}); // HtmlView Page setting action 'OnClick' for element 'resetbutton'
          _view.resetbutton.linkProperty("Font",  function() { return fontb; }, function(_v) { fontb = _v; } ); // HtmlView Page linking property 'Font' for element 'resetbutton'
          _view.plottingPanel.setAction("OnDoubleClick", function(_data,_info) {
  toggleFullScreen();

}); // HtmlView Page setting action 'OnDoubleClick' for element 'plottingPanel'
          _view.plottingPanel.linkProperty("MaximumY",  function() { return ymax*scale; } ); // HtmlView Page linking property 'MaximumY' for element 'plottingPanel'
          _view.plottingPanel.linkProperty("MaximumX",  function() { return xmax*scale; } ); // HtmlView Page linking property 'MaximumX' for element 'plottingPanel'
          _view.plottingPanel.linkProperty("MinimumX",  function() { return xmin*scale; } ); // HtmlView Page linking property 'MinimumX' for element 'plottingPanel'
          _view.plottingPanel.linkProperty("MinimumY",  function() { return ymin*scale; } ); // HtmlView Page linking property 'MinimumY' for element 'plottingPanel'
          _view.plottingPanel.linkProperty("BRMessage",  function() { return "q1 = "+q1.toFixed(1)+"\np2 = "+p2.toFixed(1)+"\nq2 = "+q2.toFixed(1); } ); // HtmlView Page linking property 'BRMessage' for element 'plottingPanel'
          _view.object.linkProperty("X",  function() { return ox; }, function(_v) { ox = _v; } ); // HtmlView Page linking property 'X' for element 'object'
          _view.object.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'object'
          _view.object.linkProperty("SizeY",  function() { return oh; }, function(_v) { oh = _v; } ); // HtmlView Page linking property 'SizeY' for element 'object'
          _view.object.setAction("OnDrag", function(_data,_info) {
  if(ox>x1-size)ox=x1-size;

}); // HtmlView Page setting action 'OnDrag' for element 'object'
          _view.segmentSet2.linkProperty("NumberOfElements",  function() { return n; }, function(_v) { n = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'segmentSet2'
          _view.segmentSet2.linkProperty("SizeX",  function() { return p; }, function(_v) { p = _v; } ); // HtmlView Page linking property 'SizeX' for element 'segmentSet2'
          _view.segmentSet2.linkProperty("X",  function() { return ox; }, function(_v) { ox = _v; } ); // HtmlView Page linking property 'X' for element 'segmentSet2'
          _view.segmentSet2.linkProperty("Y",  function() { return yc+oh2; } ); // HtmlView Page linking property 'Y' for element 'segmentSet2'
          _view.segmentSet2.linkProperty("SizeY",  function() { return rdy1; }, function(_v) { rdy1 = _v; } ); // HtmlView Page linking property 'SizeY' for element 'segmentSet2'
          _view.segmentSet.linkProperty("NumberOfElements",  function() { return n; }, function(_v) { n = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'segmentSet'
          _view.segmentSet.linkProperty("SizeX",  function() { return -q1; } ); // HtmlView Page linking property 'SizeX' for element 'segmentSet'
          _view.segmentSet.linkProperty("X",  function() { return ix; }, function(_v) { ix = _v; } ); // HtmlView Page linking property 'X' for element 'segmentSet'
          _view.segmentSet.linkProperty("Y",  function() { return yc+M*oh2; } ); // HtmlView Page linking property 'Y' for element 'segmentSet'
          _view.segmentSet.linkProperty("SizeY",  function() { return rdy2; }, function(_v) { rdy2 = _v; } ); // HtmlView Page linking property 'SizeY' for element 'segmentSet'
          _view.horizontalline.linkProperty("SizeX",  function() { return (xmax-xmin)*scale; } ); // HtmlView Page linking property 'SizeX' for element 'horizontalline'
          _view.horizontalline.linkProperty("X",  function() { return xmin*scale; } ); // HtmlView Page linking property 'X' for element 'horizontalline'
          _view.horizontalline.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'horizontalline'
          _view.shapeLens.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapeLens'
          _view.shapeLens.linkProperty("ShapeType",  function() { return shapeL; }, function(_v) { shapeL = _v; } ); // HtmlView Page linking property 'ShapeType' for element 'shapeLens'
          _view.shapeLens.linkProperty("X",  function() { return x1; }, function(_v) { x1 = _v; } ); // HtmlView Page linking property 'X' for element 'shapeLens'
          _view.shapeLens.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapeLens'
          _view.shapeLens.linkProperty("Visibility",  function() { return !nl; } ); // HtmlView Page linking property 'Visibility' for element 'shapeLens'
          _view.shapeLens.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapeLens'
          _view.shapeLensrect.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapeLensrect'
          _view.shapeLensrect.linkProperty("X",  function() { return x1; }, function(_v) { x1 = _v; } ); // HtmlView Page linking property 'X' for element 'shapeLensrect'
          _view.shapeLensrect.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapeLensrect'
          _view.shapeLensrect.linkProperty("Visibility",  function() { return nl; }, function(_v) { nl = _v; } ); // HtmlView Page linking property 'Visibility' for element 'shapeLensrect'
          _view.shapeLensrect.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapeLensrect'
          _view.shapeLensL.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapeLensL'
          _view.shapeLensL.linkProperty("X",  function() { return x1-w/1.2; } ); // HtmlView Page linking property 'X' for element 'shapeLensL'
          _view.shapeLensL.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapeLensL'
          _view.shapeLensL.linkProperty("Visibility",  function() { return nl; }, function(_v) { nl = _v; } ); // HtmlView Page linking property 'Visibility' for element 'shapeLensL'
          _view.shapeLensL.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapeLensL'
          _view.shapeLensR.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapeLensR'
          _view.shapeLensR.linkProperty("X",  function() { return x1+w/1.2; } ); // HtmlView Page linking property 'X' for element 'shapeLensR'
          _view.shapeLensR.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapeLensR'
          _view.shapeLensR.linkProperty("Visibility",  function() { return nl; }, function(_v) { nl = _v; } ); // HtmlView Page linking property 'Visibility' for element 'shapeLensR'
          _view.shapeLensR.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapeLensR'
          _view.shapelens2Mask.linkProperty("SizeX",  function() { return scale*(xmax-xmin); } ); // HtmlView Page linking property 'SizeX' for element 'shapelens2Mask'
          _view.shapelens2Mask.linkProperty("X",  function() { return x2; }, function(_v) { x2 = _v; } ); // HtmlView Page linking property 'X' for element 'shapelens2Mask'
          _view.shapelens2Mask.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'shapelens2Mask'
          _view.shapelens2Mask.linkProperty("SizeY",  function() { return ymax-ymin; } ); // HtmlView Page linking property 'SizeY' for element 'shapelens2Mask'
          _view.shapelens2rect.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapelens2rect'
          _view.shapelens2rect.linkProperty("X",  function() { return x2; }, function(_v) { x2 = _v; } ); // HtmlView Page linking property 'X' for element 'shapelens2rect'
          _view.shapelens2rect.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapelens2rect'
          _view.shapelens2rect.linkProperty("Visibility",  function() { return lens2on && nr; } ); // HtmlView Page linking property 'Visibility' for element 'shapelens2rect'
          _view.shapelens2rect.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapelens2rect'
          _view.shapelens2.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapelens2'
          _view.shapelens2.linkProperty("ShapeType",  function() { return shapeR; }, function(_v) { shapeR = _v; } ); // HtmlView Page linking property 'ShapeType' for element 'shapelens2'
          _view.shapelens2.linkProperty("X",  function() { return x2; }, function(_v) { x2 = _v; } ); // HtmlView Page linking property 'X' for element 'shapelens2'
          _view.shapelens2.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapelens2'
          _view.shapelens2.linkProperty("Visibility",  function() { return lens2on && !nr; } ); // HtmlView Page linking property 'Visibility' for element 'shapelens2'
          _view.shapelens2.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapelens2'
          _view.shapelens2L.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapelens2L'
          _view.shapelens2L.linkProperty("X",  function() { return x2-w/1.2; } ); // HtmlView Page linking property 'X' for element 'shapelens2L'
          _view.shapelens2L.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapelens2L'
          _view.shapelens2L.linkProperty("Visibility",  function() { return lens2on &&nr; } ); // HtmlView Page linking property 'Visibility' for element 'shapelens2L'
          _view.shapelens2L.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapelens2L'
          _view.shapelens2R.linkProperty("SizeX",  function() { return w; }, function(_v) { w = _v; } ); // HtmlView Page linking property 'SizeX' for element 'shapelens2R'
          _view.shapelens2R.linkProperty("X",  function() { return x2+w/1.2; } ); // HtmlView Page linking property 'X' for element 'shapelens2R'
          _view.shapelens2R.linkProperty("Y",  function() { return yc+0; } ); // HtmlView Page linking property 'Y' for element 'shapelens2R'
          _view.shapelens2R.linkProperty("Visibility",  function() { return lens2on &&nr; } ); // HtmlView Page linking property 'Visibility' for element 'shapelens2R'
          _view.shapelens2R.linkProperty("SizeY",  function() { return h; }, function(_v) { h = _v; } ); // HtmlView Page linking property 'SizeY' for element 'shapelens2R'
          _view.img.linkProperty("X",  function() { return ix; }, function(_v) { ix = _v; } ); // HtmlView Page linking property 'X' for element 'img'
          _view.img.linkProperty("LineColor",  function() { return clr; }, function(_v) { clr = _v; } ); // HtmlView Page linking property 'LineColor' for element 'img'
          _view.img.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'img'
          _view.img.linkProperty("SizeY",  function() { return M*oh; } ); // HtmlView Page linking property 'SizeY' for element 'img'
          _view.segmentSet3.linkProperty("NumberOfElements",  function() { return n; }, function(_v) { n = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'segmentSet3'
          _view.segmentSet3.linkProperty("SizeX",  function() { return x2-ix; } ); // HtmlView Page linking property 'SizeX' for element 'segmentSet3'
          _view.segmentSet3.linkProperty("X",  function() { return ix; }, function(_v) { ix = _v; } ); // HtmlView Page linking property 'X' for element 'segmentSet3'
          _view.segmentSet3.linkProperty("Y",  function() { return M*oh2; } ); // HtmlView Page linking property 'Y' for element 'segmentSet3'
          _view.segmentSet3.linkProperty("Visibility",  function() { return lens2on && x2>ix; } ); // HtmlView Page linking property 'Visibility' for element 'segmentSet3'
          _view.segmentSet3.linkProperty("SizeY",  function() { return rdy3; }, function(_v) { rdy3 = _v; } ); // HtmlView Page linking property 'SizeY' for element 'segmentSet3'
          _view.segmentSet4.linkProperty("NumberOfElements",  function() { return n; }, function(_v) { n = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'segmentSet4'
          _view.segmentSet4.linkProperty("SizeX",  function() { return q2; }, function(_v) { q2 = _v; } ); // HtmlView Page linking property 'SizeX' for element 'segmentSet4'
          _view.segmentSet4.linkProperty("X",  function() { return x2; }, function(_v) { x2 = _v; } ); // HtmlView Page linking property 'X' for element 'segmentSet4'
          _view.segmentSet4.linkProperty("LineColor",  function() { return rayclr; }, function(_v) { rayclr = _v; } ); // HtmlView Page linking property 'LineColor' for element 'segmentSet4'
          _view.segmentSet4.linkProperty("Y",  function() { return y3; }, function(_v) { y3 = _v; } ); // HtmlView Page linking property 'Y' for element 'segmentSet4'
          _view.segmentSet4.linkProperty("Visibility",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Visibility' for element 'segmentSet4'
          _view.segmentSet4.linkProperty("SizeY",  function() { return rdy4; }, function(_v) { rdy4 = _v; } ); // HtmlView Page linking property 'SizeY' for element 'segmentSet4'
          _view.segmentSet5.linkProperty("NumberOfElements",  function() { return n; }, function(_v) { n = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'segmentSet5'
          _view.segmentSet5.linkProperty("SizeX",  function() { return scale*xmax-x2; } ); // HtmlView Page linking property 'SizeX' for element 'segmentSet5'
          _view.segmentSet5.linkProperty("X",  function() { return x2; }, function(_v) { x2 = _v; } ); // HtmlView Page linking property 'X' for element 'segmentSet5'
          _view.segmentSet5.linkProperty("Y",  function() { return y3; }, function(_v) { y3 = _v; } ); // HtmlView Page linking property 'Y' for element 'segmentSet5'
          _view.segmentSet5.linkProperty("Visibility",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Visibility' for element 'segmentSet5'
          _view.segmentSet5.linkProperty("SizeY",  function() { return rdy5; }, function(_v) { rdy5 = _v; } ); // HtmlView Page linking property 'SizeY' for element 'segmentSet5'
          _view.fc1L.linkProperty("X",  function() { return xfL1; }, function(_v) { xfL1 = _v; } ); // HtmlView Page linking property 'X' for element 'fc1L'
          _view.fc1L.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'fc1L'
          _view.fc1L.setAction("OnDrag", function(_data,_info) {
  if(xfL1>x1-fmin)xfL1=x1-fmin;
  f=x1-xfL1;
  xfR1=x1+f;

}); // HtmlView Page setting action 'OnDrag' for element 'fc1L'
          _view.fc1R.linkProperty("X",  function() { return xfR1; }, function(_v) { xfR1 = _v; } ); // HtmlView Page linking property 'X' for element 'fc1R'
          _view.fc1R.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'fc1R'
          _view.fc1R.setAction("OnDrag", function(_data,_info) {
  if(xfR1<x1+fmin)xfR1=x1+fmin;
  f=xfR1-x1;
  xfL1=x1-f;

}); // HtmlView Page setting action 'OnDrag' for element 'fc1R'
          _view.fc1L2.setAction("OnDrag", function(_data,_info) {
  if(xfL2>x2-fmin)xfL2=x2-fmin;
  f2=x2-xfL2;
  xfR2=x2+f2;

}); // HtmlView Page setting action 'OnDrag' for element 'fc1L2'
          _view.fc1L2.linkProperty("X",  function() { return xfL2; }, function(_v) { xfL2 = _v; } ); // HtmlView Page linking property 'X' for element 'fc1L2'
          _view.fc1L2.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'fc1L2'
          _view.fc1L2.linkProperty("Visibility",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Visibility' for element 'fc1L2'
          _view.drag2lens.linkProperty("X",  function() { return x1; }, function(_v) { x1 = _v; } ); // HtmlView Page linking property 'X' for element 'drag2lens'
          _view.drag2lens.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'drag2lens'
          _view.drag2lens.setAction("OnDrag", function(_data,_info) {
  if(x1+fmin>x2)x1=x2-fmin;
  xfL1=x1-f;
  xfR1=x1+f;

}); // HtmlView Page setting action 'OnDrag' for element 'drag2lens'
          _view.fc1R2.linkProperty("X",  function() { return xfR2; }, function(_v) { xfR2 = _v; } ); // HtmlView Page linking property 'X' for element 'fc1R2'
          _view.fc1R2.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'fc1R2'
          _view.fc1R2.linkProperty("Visibility",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Visibility' for element 'fc1R2'
          _view.fc1R2.setAction("OnDrag", function(_data,_info) {
  if(xfR2<x2+fmin)xfR2=x2+fmin;
  f2=xfR2-x2;
  xfL2=x2-f2;

}); // HtmlView Page setting action 'OnDrag' for element 'fc1R2'
          _view.lensh.linkProperty("X",  function() { return x1; }, function(_v) { x1 = _v; } ); // HtmlView Page linking property 'X' for element 'lensh'
          _view.lensh.linkProperty("Y",  function() { return h2; }, function(_v) { h2 = _v; } ); // HtmlView Page linking property 'Y' for element 'lensh'
          _view.lensh.setAction("OnDrag", function(_data,_info) {
  h2=Math.max(h2,0); // limit to minimum zero
  h=h2*2;

}); // HtmlView Page setting action 'OnDrag' for element 'lensh'
          _view.drag2lens2.linkProperty("X",  function() { return x2; }, function(_v) { x2 = _v; } ); // HtmlView Page linking property 'X' for element 'drag2lens2'
          _view.drag2lens2.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'drag2lens2'
          _view.drag2lens2.linkProperty("Visibility",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Visibility' for element 'drag2lens2'
          _view.drag2lens2.setAction("OnDrag", function(_data,_info) {
  if(x2<x1+fmin)x2=x1+fmin;
  xfL2=x2-f2;
  xfR2=x2+f2;

}); // HtmlView Page setting action 'OnDrag' for element 'drag2lens2'
          _view.img2.linkProperty("X",  function() { return ix2; }, function(_v) { ix2 = _v; } ); // HtmlView Page linking property 'X' for element 'img2'
          _view.img2.linkProperty("LineColor",  function() { return img2clr; }, function(_v) { img2clr = _v; } ); // HtmlView Page linking property 'LineColor' for element 'img2'
          _view.img2.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'img2'
          _view.img2.linkProperty("Visibility",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Visibility' for element 'img2'
          _view.img2.linkProperty("SizeY",  function() { return M*M2*oh; } ); // HtmlView Page linking property 'SizeY' for element 'img2'
          _view.segmentSet22.linkProperty("NumberOfElements",  function() { return n; }, function(_v) { n = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'segmentSet22'
          _view.segmentSet22.linkProperty("SizeX",  function() { return xmax*scale-x1; } ); // HtmlView Page linking property 'SizeX' for element 'segmentSet22'
          _view.segmentSet22.linkProperty("X",  function() { return x1; }, function(_v) { x1 = _v; } ); // HtmlView Page linking property 'X' for element 'segmentSet22'
          _view.segmentSet22.linkProperty("Y",  function() { return y1; }, function(_v) { y1 = _v; } ); // HtmlView Page linking property 'Y' for element 'segmentSet22'
          _view.segmentSet22.linkProperty("Visibility",  function() { return q1<0 &&!lens2on; } ); // HtmlView Page linking property 'Visibility' for element 'segmentSet22'
          _view.segmentSet22.linkProperty("SizeY",  function() { return rdy12; }, function(_v) { rdy12 = _v; } ); // HtmlView Page linking property 'SizeY' for element 'segmentSet22'
          _view.ray2.linkProperty("X",  function() { return ix2; }, function(_v) { ix2 = _v; } ); // HtmlView Page linking property 'X' for element 'ray2'
          _view.ray2.linkProperty("Y",  function() { return M*M2*oh2; } ); // HtmlView Page linking property 'Y' for element 'ray2'
          _view.ray2.linkProperty("Visibility",  function() { return lens2on; }, function(_v) { lens2on = _v; } ); // HtmlView Page linking property 'Visibility' for element 'ray2'
          _view.ray.linkProperty("X",  function() { return ox; }, function(_v) { ox = _v; } ); // HtmlView Page linking property 'X' for element 'ray'
          _view.ray.linkProperty("Y",  function() { return oh2; }, function(_v) { oh2 = _v; } ); // HtmlView Page linking property 'Y' for element 'ray'
          _view.ray.setAction("OnDrag", function(_data,_info) {
  if(oh2<0)oh2=0;
  else if(oh2>oh)oh2=oh;

}); // HtmlView Page setting action 'OnDrag' for element 'ray'
          _view.virtualimagetext.linkProperty("X",  function() { return msgx; }, function(_v) { msgx = _v; } ); // HtmlView Page linking property 'X' for element 'virtualimagetext'
          _view.virtualimagetext.linkProperty("Y",  function() { return msgy; }, function(_v) { msgy = _v; } ); // HtmlView Page linking property 'Y' for element 'virtualimagetext'
          _view.virtualimagetext.linkProperty("Visibility",  function() { return !showreal; } ); // HtmlView Page linking property 'Visibility' for element 'virtualimagetext'
          _view.virtualimagetext.linkProperty("Font",  function() { return font; }, function(_v) { font = _v; } ); // HtmlView Page linking property 'Font' for element 'virtualimagetext'
          _view.realimagetext.linkProperty("X",  function() { return msgx; }, function(_v) { msgx = _v; } ); // HtmlView Page linking property 'X' for element 'realimagetext'
          _view.realimagetext.linkProperty("Y",  function() { return msgy; }, function(_v) { msgy = _v; } ); // HtmlView Page linking property 'Y' for element 'realimagetext'
          _view.realimagetext.linkProperty("Visibility",  function() { return showreal; }, function(_v) { showreal = _v; } ); // HtmlView Page linking property 'Visibility' for element 'realimagetext'
          _view.realimagetext.linkProperty("Font",  function() { return font; }, function(_v) { font = _v; } ); // HtmlView Page linking property 'Font' for element 'realimagetext'
          break;
      } // end of switch
    }; // end of new reset

    _model.setView(_view);
    _model.reset();
    _view._enableEPub();
  } // end of _selectView

  _model.setAutoplay(false);
  _model.setFPS(20);
  _model.setStepsPerDisplay(1);
  _selectView(_model._autoSelectView(_getViews())); // this includes _model.reset()
  return _model;
}

function twolens2_View (_topFrame,_viewNumber,_libraryPath,_codebasePath) {
  var _view;
  switch(_viewNumber) {
    case -10 : break; // make Lint happy
    default :
    case 0: _view = twolens2_View_0 (_topFrame); break;
  } // end of switch

  if (_codebasePath) _view._setResourcePath(_codebasePath);

  if (_libraryPath) _view._setLibraryPath(_libraryPath);


  return _view;
} // end of main function

function twolens2_View_0 (_topFrame) {
  var _view = EJSS_CORE.createView(_topFrame);

  _view._reset = function() {
    _view._clearAll();
    _view._addElement(EJSS_INTERFACE.panel,"panel", _view._topFrame) // EJsS HtmlView.HtmlView Page: declaration of element 'panel'
      ;

    _view._addElement(EJSS_INTERFACE.panel,"controlPanel", _view.panel) // EJsS HtmlView.HtmlView Page: declaration of element 'controlPanel'
      .setProperty("CSS",{   "position" : "absolute",   "top" : "4%",    "margin-left":"0px",    "left":"3%" }) // EJsS HtmlView.HtmlView Page: setting property 'CSS' for element 'controlPanel'
      .setProperty("Display","inline-flex") // EJsS HtmlView.HtmlView Page: setting property 'Display' for element 'controlPanel'
      ;

    _view._addElement(EJSS_INTERFACE.comboBox,"comboBox", _view.controlPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'comboBox'
      ;

    _view._addElement(EJSS_INTERFACE.panel,"combo1", _view.controlPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'combo1'
      .setProperty("Background","yellow") // EJsS HtmlView.HtmlView Page: setting property 'Background' for element 'combo1'
      ;

    _view._addElement(EJSS_INTERFACE.imageAndTextButton,"p1text", _view.combo1) // EJsS HtmlView.HtmlView Page: declaration of element 'p1text'
      .setProperty("Text","p1 = ") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'p1text'
      ;

    _view._addElement(EJSS_INTERFACE.slider,"p1slider", _view.combo1) // EJsS HtmlView.HtmlView Page: declaration of element 'p1slider'
      .setProperty("ShowText",true) // EJsS HtmlView.HtmlView Page: setting property 'ShowText' for element 'p1slider'
      .setProperty("Format","0.0") // EJsS HtmlView.HtmlView Page: setting property 'Format' for element 'p1slider'
      ;

    _view._addElement(EJSS_INTERFACE.panel,"combo2", _view.controlPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'combo2'
      .setProperty("Background","pink") // EJsS HtmlView.HtmlView Page: setting property 'Background' for element 'combo2'
      ;

    _view._addElement(EJSS_INTERFACE.imageAndTextButton,"f1text", _view.combo2) // EJsS HtmlView.HtmlView Page: declaration of element 'f1text'
      .setProperty("Text","f1 = ") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'f1text'
      ;

    _view._addElement(EJSS_INTERFACE.slider,"f1slider", _view.combo2) // EJsS HtmlView.HtmlView Page: declaration of element 'f1slider'
      .setProperty("ShowText",true) // EJsS HtmlView.HtmlView Page: setting property 'ShowText' for element 'f1slider'
      .setProperty("Format","0.0") // EJsS HtmlView.HtmlView Page: setting property 'Format' for element 'f1slider'
      ;

    _view._addElement(EJSS_INTERFACE.imageAndTextButton,"f2text", _view.combo2) // EJsS HtmlView.HtmlView Page: declaration of element 'f2text'
      .setProperty("Text","f2 = ") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'f2text'
      ;

    _view._addElement(EJSS_INTERFACE.slider,"sliderf2", _view.combo2) // EJsS HtmlView.HtmlView Page: declaration of element 'sliderf2'
      .setProperty("ShowText",true) // EJsS HtmlView.HtmlView Page: setting property 'ShowText' for element 'sliderf2'
      .setProperty("Format","0.0") // EJsS HtmlView.HtmlView Page: setting property 'Format' for element 'sliderf2'
      ;

    _view._addElement(EJSS_INTERFACE.panel,"combo3", _view.controlPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'combo3'
      .setProperty("Background","orange") // EJsS HtmlView.HtmlView Page: setting property 'Background' for element 'combo3'
      ;

    _view._addElement(EJSS_INTERFACE.checkBox,"q1concave", _view.combo3) // EJsS HtmlView.HtmlView Page: declaration of element 'q1concave'
      .setProperty("Text","q1 concave") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'q1concave'
      ;

    _view._addElement(EJSS_INTERFACE.checkBox,"concaveq2", _view.combo3) // EJsS HtmlView.HtmlView Page: declaration of element 'concaveq2'
      .setProperty("Text","q2 concave") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'concaveq2'
      ;

    _view._addElement(EJSS_INTERFACE.checkBox,"lenscheck", _view.combo3) // EJsS HtmlView.HtmlView Page: declaration of element 'lenscheck'
      .setProperty("Text","2nd Lens") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'lenscheck'
      ;

    _view._addElement(EJSS_INTERFACE.button,"resetbutton", _view.controlPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'resetbutton'
      .setProperty("Text","↻") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'resetbutton'
      ;

    _view._addElement(EJSS_DRAWING2D.plottingPanel,"plottingPanel", _view.panel) // EJsS HtmlView.HtmlView Page: declaration of element 'plottingPanel'
      .setProperty("Height","95vh") // EJsS HtmlView.HtmlView Page: setting property 'Height' for element 'plottingPanel'
      .setProperty("Width","100%") // EJsS HtmlView.HtmlView Page: setting property 'Width' for element 'plottingPanel'
      .setProperty("Gutters",[0,0,0,0]) // EJsS HtmlView.HtmlView Page: setting property 'Gutters' for element 'plottingPanel'
      .setProperty("ShowCoordinates",false) // EJsS HtmlView.HtmlView Page: setting property 'ShowCoordinates' for element 'plottingPanel'
      .setProperty("Background","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'Background' for element 'plottingPanel'
      .setProperty("XFixedTick",0) // EJsS HtmlView.HtmlView Page: setting property 'XFixedTick' for element 'plottingPanel'
      .setProperty("Enabled",true) // EJsS HtmlView.HtmlView Page: setting property 'Enabled' for element 'plottingPanel'
      .setProperty("SquareAspect",true) // EJsS HtmlView.HtmlView Page: setting property 'SquareAspect' for element 'plottingPanel'
      .setProperty("AxisXShow",false) // EJsS HtmlView.HtmlView Page: setting property 'AxisXShow' for element 'plottingPanel'
      .setProperty("YFixedTick",0) // EJsS HtmlView.HtmlView Page: setting property 'YFixedTick' for element 'plottingPanel'
      .setProperty("GridYShow",false) // EJsS HtmlView.HtmlView Page: setting property 'GridYShow' for element 'plottingPanel'
      .setProperty("TRMessage","Two Lens") // EJsS HtmlView.HtmlView Page: setting property 'TRMessage' for element 'plottingPanel'
      .setProperty("AxisYShow",false) // EJsS HtmlView.HtmlView Page: setting property 'AxisYShow' for element 'plottingPanel'
      .setProperty("AutoScaleY",false) // EJsS HtmlView.HtmlView Page: setting property 'AutoScaleY' for element 'plottingPanel'
      .setProperty("AutoScaleX",false) // EJsS HtmlView.HtmlView Page: setting property 'AutoScaleX' for element 'plottingPanel'
      .setProperty("GridXShow",false) // EJsS HtmlView.HtmlView Page: setting property 'GridXShow' for element 'plottingPanel'
      ;

    _view._addElement(EJSS_DRAWING2D.arrow,"object", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'object'
      .setProperty("SizeX",0) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'object'
      .setProperty("EnabledSize","ENABLED_Y") // EJsS HtmlView.HtmlView Page: setting property 'EnabledSize' for element 'object'
      .setProperty("LineColor","Blue") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'object'
      .setProperty("LineWidth",4) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'object'
      ;

    _view._addElement(EJSS_DRAWING2D.segmentSet,"segmentSet2", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'segmentSet2'
      .setProperty("LineColor","rgba(200,220,208,0.5)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'segmentSet2'
      .setProperty("Attributes",{ "stroke-dasharray":"8 8 8 8" }) // EJsS HtmlView.HtmlView Page: setting property 'Attributes' for element 'segmentSet2'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'segmentSet2'
      ;

    _view._addElement(EJSS_DRAWING2D.segmentSet,"segmentSet", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'segmentSet'
      .setProperty("LineColor","rgba(200,220,208,0.5)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'segmentSet'
      .setProperty("Attributes",{ "stroke-dasharray":"8 8 8 8" }) // EJsS HtmlView.HtmlView Page: setting property 'Attributes' for element 'segmentSet'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'segmentSet'
      ;

    _view._addElement(EJSS_DRAWING2D.segment,"horizontalline", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'horizontalline'
      .setProperty("LineColor","White") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'horizontalline'
      .setProperty("SizeY",0) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'horizontalline'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'horizontalline'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapeLens", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapeLens'
      .setProperty("FillColor","url(#mygrandient)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapeLens'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapeLens'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapeLensrect", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapeLensrect'
      .setProperty("FillColor","url(#mygrandient)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapeLensrect'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapeLensrect'
      .setProperty("LineColor","Cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapeLensrect'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapeLensrect'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapeLensL", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapeLensL'
      .setProperty("FillColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapeLensL'
      .setProperty("RelativePosition","CENTERED") // EJsS HtmlView.HtmlView Page: setting property 'RelativePosition' for element 'shapeLensL'
      .setProperty("ShapeType","ELLIPSE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapeLensL'
      .setProperty("LineColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapeLensL'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapeLensL'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapeLensR", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapeLensR'
      .setProperty("FillColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapeLensR'
      .setProperty("RelativePosition","CENTERED") // EJsS HtmlView.HtmlView Page: setting property 'RelativePosition' for element 'shapeLensR'
      .setProperty("ShapeType","ELLIPSE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapeLensR'
      .setProperty("LineColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapeLensR'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapeLensR'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapelens2Mask", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapelens2Mask'
      .setProperty("FillColor","rgba(64,64,64,0.7)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapelens2Mask'
      .setProperty("RelativePosition","WEST") // EJsS HtmlView.HtmlView Page: setting property 'RelativePosition' for element 'shapelens2Mask'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapelens2Mask'
      .setProperty("LineColor","rgba(64,64,64,0.7)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapelens2Mask'
      .setProperty("Visibility",false) // EJsS HtmlView.HtmlView Page: setting property 'Visibility' for element 'shapelens2Mask'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapelens2rect", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapelens2rect'
      .setProperty("FillColor","url(#mygrandient)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapelens2rect'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapelens2rect'
      .setProperty("LineColor","cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapelens2rect'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapelens2rect'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapelens2", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapelens2'
      .setProperty("FillColor","url(#mygrandient)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapelens2'
      .setProperty("LineColor","cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapelens2'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapelens2'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapelens2L", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapelens2L'
      .setProperty("FillColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapelens2L'
      .setProperty("ShapeType","ELLIPSE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapelens2L'
      .setProperty("LineColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapelens2L'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapelens2L'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shapelens2R", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapelens2R'
      .setProperty("FillColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapelens2R'
      .setProperty("RelativePosition","CENTERED") // EJsS HtmlView.HtmlView Page: setting property 'RelativePosition' for element 'shapelens2R'
      .setProperty("ShapeType","ELLIPSE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapelens2R'
      .setProperty("LineColor","rgba(30,30,30,1.0)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'shapelens2R'
      .setProperty("DrawLines",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawLines' for element 'shapelens2R'
      ;

    _view._addElement(EJSS_DRAWING2D.arrow,"img", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'img'
      .setProperty("SizeX",0) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'img'
      .setProperty("LineWidth",4) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'img'
      ;

    _view._addElement(EJSS_DRAWING2D.segmentSet,"segmentSet3", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'segmentSet3'
      .setProperty("LineColor","rgba(200,220,208,0.5)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'segmentSet3'
      .setProperty("Attributes",{ "stroke-dasharray":"8 8 8 8" }) // EJsS HtmlView.HtmlView Page: setting property 'Attributes' for element 'segmentSet3'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'segmentSet3'
      ;

    _view._addElement(EJSS_DRAWING2D.segmentSet,"segmentSet4", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'segmentSet4'
      .setProperty("Attributes",{ "stroke-dasharray":"8 8 8 8" }) // EJsS HtmlView.HtmlView Page: setting property 'Attributes' for element 'segmentSet4'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'segmentSet4'
      ;

    _view._addElement(EJSS_DRAWING2D.segmentSet,"segmentSet5", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'segmentSet5'
      .setProperty("LineColor","rgba(200,220,208,0.5)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'segmentSet5'
      .setProperty("Attributes",{ "stroke-dasharray":"8 8 8 8" }) // EJsS HtmlView.HtmlView Page: setting property 'Attributes' for element 'segmentSet5'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'segmentSet5'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"fc1L", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'fc1L'
      .setProperty("FillColor","cyan") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'fc1L'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'fc1L'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'fc1L'
      .setProperty("LineColor","cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'fc1L'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'fc1L'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'fc1L'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'fc1L'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'fc1L'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'fc1L'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"fc1R", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'fc1R'
      .setProperty("FillColor","Cyan") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'fc1R'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'fc1R'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'fc1R'
      .setProperty("LineColor","Cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'fc1R'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'fc1R'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'fc1R'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'fc1R'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'fc1R'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'fc1R'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"fc1L2", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'fc1L2'
      .setProperty("FillColor","Cyan") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'fc1L2'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'fc1L2'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'fc1L2'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'fc1L2'
      .setProperty("LineColor","Cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'fc1L2'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'fc1L2'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'fc1L2'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'fc1L2'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'fc1L2'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"drag2lens", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'drag2lens'
      .setProperty("FillColor","red") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'drag2lens'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'drag2lens'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'drag2lens'
      .setProperty("LineColor","red") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'drag2lens'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'drag2lens'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'drag2lens'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'drag2lens'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'drag2lens'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'drag2lens'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"fc1R2", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'fc1R2'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'fc1R2'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'fc1R2'
      .setProperty("LineColor","Cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'fc1R2'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'fc1R2'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'fc1R2'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'fc1R2'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'fc1R2'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'fc1R2'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"lensh", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'lensh'
      .setProperty("FillColor","Magenta") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'lensh'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'lensh'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'lensh'
      .setProperty("LineColor","Magenta") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'lensh'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'lensh'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'lensh'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'lensh'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'lensh'
      .setProperty("EnabledPosition","ENABLED_Y") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'lensh'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"drag2lens2", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'drag2lens2'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'drag2lens2'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'drag2lens2'
      .setProperty("LineColor","red") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'drag2lens2'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'drag2lens2'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'drag2lens2'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'drag2lens2'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'drag2lens2'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'drag2lens2'
      ;

    _view._addElement(EJSS_DRAWING2D.arrow,"img2", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'img2'
      .setProperty("SizeX",0) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'img2'
      .setProperty("LineWidth",4) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'img2'
      ;

    _view._addElement(EJSS_DRAWING2D.segmentSet,"segmentSet22", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'segmentSet22'
      .setProperty("LineColor","rgba(200,220,208,0.5)") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'segmentSet22'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"ray2", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'ray2'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'ray2'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'ray2'
      .setProperty("LineColor","cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'ray2'
      .setProperty("Attributes",{ "stroke-dasharray":"8 8 8 8" }) // EJsS HtmlView.HtmlView Page: setting property 'Attributes' for element 'ray2'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'ray2'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'ray2'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'ray2'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'ray2'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"ray", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'ray'
      .setProperty("FillColor","cyan") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'ray'
      .setProperty("SizeX",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'ray'
      .setProperty("ShapeType","RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'ray'
      .setProperty("LineColor","cyan") // EJsS HtmlView.HtmlView Page: setting property 'LineColor' for element 'ray'
      .setProperty("SizeY",20) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'ray'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'ray'
      .setProperty("LineWidth",2) // EJsS HtmlView.HtmlView Page: setting property 'LineWidth' for element 'ray'
      .setProperty("DrawFill",false) // EJsS HtmlView.HtmlView Page: setting property 'DrawFill' for element 'ray'
      .setProperty("EnabledPosition","ENABLED_Y") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'ray'
      ;

    _view._addElement(EJSS_DRAWING2D.text,"virtualimagetext", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'virtualimagetext'
      .setProperty("FillColor","yellow") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'virtualimagetext'
      .setProperty("OutlineColor","yellow") // EJsS HtmlView.HtmlView Page: setting property 'OutlineColor' for element 'virtualimagetext'
      .setProperty("Text","virtual image") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'virtualimagetext'
      ;

    _view._addElement(EJSS_DRAWING2D.text,"realimagetext", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'realimagetext'
      .setProperty("FillColor","Yellow") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'realimagetext'
      .setProperty("OutlineColor","Yellow") // EJsS HtmlView.HtmlView Page: setting property 'OutlineColor' for element 'realimagetext'
      .setProperty("Text","real image") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'realimagetext'
      ;

  };

  return _view;
}


//--><!]]></script>
  </head>
  <body>
    <div role="button" id="_topFrame" style="text-align:center"></div>
  </div>
  
    <script type="text/javascript"><!--//--><![CDATA[//><!--
      var _model;
      var _scorm;
      window.addEventListener('load',
        function () { 
          _model =  new twolens2("_topFrame","_ejs_library/",null);
          if (typeof _isApp !== "undefined" && _isApp) _model.setRunAlways(true);
          TextResizeDetector.TARGET_ELEMENT_ID = '_topFrame';
          TextResizeDetector.USER_INIT_FUNC = function () {
            var iBase = TextResizeDetector.addEventListener(function(e,args) {
              _model._fontResized(args[0].iBase,args[0].iSize,args[0].iDelta);
              },null);
            _model._fontResized(iBase);
          };
          _model.onload();
        }, false);
    //--><!]]></script>
  </body>
</html>
